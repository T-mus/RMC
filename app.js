import{dynamicAdaptive}from"./Modules/adaptive.js";import{createCustomScrollbar}from"./Modules/custom-scrollbar.js";window.addEventListener("DOMContentLoaded",(()=>{})),function(){let e=document.querySelector("._js-header_menu"),t=document.querySelector("._js-menu__body"),r=document.querySelector("._js-menu__btn");dynamicAdaptive(e,t,r,{start:2,end:3},768.8)}(),document.addEventListener("click",(e=>{let t=e.target;!(burger.contains(t)||menuBody.contains(t))&&menuBody.classList.contains("_active")&&(document.body.classList.remove("_stop-scroll"),burger.classList.remove("_active"),menuBody.classList.remove("_active"),eclipse.classList.remove("_active"))}));let burger=document.querySelector(".js-burger"),menuBody=document.querySelector("._js-menu__body"),eclipse=document.querySelector(".header__eclipse"),isBurgerOpen=!1;burger.addEventListener("click",(function(){document.body.classList.toggle("_stop-scroll"),this.classList.toggle("_active"),menuBody.classList.toggle("_active"),eclipse.classList.toggle("_active"),isBurgerOpen=!isBurgerOpen}));let header=document.querySelector(".js-header"),headerHeight=header.clientHeight,currentScrollPos=window.pageYOffset,prevScrollPos=currentScrollPos,isVisible=!0;function toFixAndHideHeader(){currentScrollPos=window.pageYOffset,(!isBurgerOpen&&currentScrollPos<=headerHeight||isBurgerOpen)&&(header.style.transform="translateY(0)",isVisible=!0),currentScrollPos>prevScrollPos&&currentScrollPos>headerHeight&&isVisible?(header.style.transform="translateY(-100%)",isVisible=!1):(prevScrollPos>currentScrollPos||currentScrollPos<=headerHeight)&&!isVisible&&(header.style.transform="translateY(0)",isVisible=!0),currentScrollPos>headerHeight?header.classList.add("_fixed"):header.classList.remove("_fixed"),prevScrollPos=currentScrollPos}window.addEventListener("scroll",toFixAndHideHeader);let intro=document.querySelector(".intro"),introElements=intro.querySelectorAll("*");!function(){let e=document.querySelector(".js-content-about"),t=document.querySelector(".js-about-body"),r=document.querySelector(".js-clients-about");dynamicAdaptive(e,t,r,{start:2,end:3},992.8)}(),function(){!async function(l){let o=await fetch("Json/projects.json");try{!function(t){let l=t,o=null,a=null,s=document.querySelector(".js-menu-projects-list"),n=s.querySelectorAll(".js-menu-projects-link a");l.projects.forEach((e=>{for(let t in e)if(e.hasOwnProperty(t)){e[t].forEach((t=>{"#all"===t.id&&(a=e)}))}})),r(a),s.addEventListener("click",(t=>{t.preventDefault();let a=t.target.closest(".js-menu-projects-link a"),s=a.getAttribute("href");if(a){if(n.forEach((e=>{e.classList.remove("_active")})),a.classList.add("_active"),l.projects.forEach((e=>{for(let t in e)if(e.hasOwnProperty(t)){e[t].forEach((t=>{t.id===s&&(o=e)}))}})),e.childNodes.length>0)for(;e.firstChild;)e.removeChild(e.firstChild);r(o)}}));let c=document.querySelector('[href="#all"]');c&&c.classList.add("_active")}(await o.json())}catch{!function(){let r="",l="";t>=992.9?o(8):t<=992.8&&t>680?o(6):t<=680&&o(4);function o(t){for(let e=0;e<t/2;e++){l+='\n                <div class="tabs-page__column">\n                    <a href="#" class="tabs-page__block _error">\n                        <div class="tabs-page__image -resp-img"></div>\n                        <div class="tabs-page__error error-tabs-page">\n                            <p class="error-tabs-page__title">Failed to load...</p>\n                            <p class="error-tabs-page__text">Try reloading the page</p>\n                        </div>\n                    </a>\n                    <a href="#" class="tabs-page__block _error">\n                        <div class="tabs-page__image -resp-img"></div>\n                        <div class="tabs-page__error error-tabs-page">\n                            <p class="error-tabs-page__title">Failed to load...</p>\n                            <p class="error-tabs-page__text">Try reloading the page</p>\n                        </div>\n                    </a>\n                </div>\n            '}r+=`\n                <div id="#" class="projects__page tabs-page js-projects-page">\n                ${l}\n                </div>\n            `,e.insertAdjacentHTML("afterbegin",r)}}(),console.log("report error !")}}();let e=document.querySelector(".js-projects-tabs"),t=window.innerWidth;function r(r){let l=r,o=Object.keys(l)[0],a=null,s=null;function n(t,r){let l=t,o=r,a="",s="";for(let e=0;e<o.length/2;e++){let t=o[2*e],r=o[2*e+1];s+=`\n                    <div class="tabs-page__column">\n                        <a href="${t.url}" class="tabs-page__block">\n                            <div class="tabs-page__image -resp-img">\n                            <img src="Images/Projects/${t.image}" alt="">\n                            </div>\n                        </a>\n                        <a href="${r.url}" class="tabs-page__block">\n                            <div class="tabs-page__image -resp-img">\n                            <img src="Images/Projects/${r.image}" alt="">\n                            </div>\n                        </a>\n                    </div>\n                `}a+=`\n                <div id="${l}" class="projects__page tabs-page js-projects-page">\n                ${s}\n                </div>\n            `,e.insertAdjacentHTML("afterbegin",a);let n=document.querySelectorAll(".tabs-page__block"),c=0;n.forEach((e=>{e.classList.add("_animate"),e.style.animationDelay=`${c}s`,c+=.1}))}a=l[o][0].id,s=l[o].filter((e=>e.hasOwnProperty("image"))),"#all"===a?function(){let e=null,r=null,l=null;e=s.filter((e=>e.image.startsWith("architecture"))),r=s.filter((e=>e.image.startsWith("construction"))),l=s.filter((e=>e.image.startsWith("design")));let o=[],c=null,i=null,d=null;function u(t,a){c=e.sort((()=>Math.random()-.5)).slice(0,t),o=o.concat(c),i=r.sort((()=>Math.random()-.5)).slice(0,a),o=o.concat(i),d=l.sort((()=>Math.random()-.5)).slice(0,a),o=o.concat(d)}t>=992.9?u(2,3):t<=992.8&&t>680?u(2,2):t<=680&&u(2,1);n(a,o)}():function(){let e=null,r=null;function l(t){e=s.sort((()=>Math.random()-.5)).slice(0,t)}t>=992.9?(r=s.length<8?s.length:8,l(r)):t<=992.8&&t>680?(r=s.length<6?s.length:6,l(r)):t<=680&&(r=s.length<4?s.length:4,l(r));n(a,e)}()}}(),function(){let e=document.querySelector(".pre-footer__row"),t=document.querySelector(".pre-footer__scrollbar"),r=document.querySelector(".pre-footer__thumb"),l=document.querySelector(".pre-footer__left-arrow"),o=document.querySelector(".pre-footer__right-arrow");createCustomScrollbar(e,t,r,l,o)}(),function(){let e=document.querySelector(".availability__content"),t=document.querySelector(".availability__scrollbar"),r=document.querySelector(".availability__thumb"),l=document.querySelector(".availability__left-arrow"),o=document.querySelector(".availability__right-arrow");createCustomScrollbar(e,t,r,l,o)}();